برای اجرای تست‌های پیشنهادشده مرحله به مرحله، در ادامه توضیح می‌دهم که چطور هر سناریو را تنظیم کنید، اجرا کنید و نتایج آن را بررسی کنید.

---

## **1. تست شبکه پایدار (بدون Packet Loss و RTT ثابت)**

### **تنظیمات**
1. در فایل سرور:
   - مقدار `packet_loss_prob` را به `0` تغییر دهید.
   - اطمینان حاصل کنید که `bandwidth_limit` مقدار مناسبی دارد، مثلاً `1024 bytes/sec`.
2. در فایل کلاینت:
   - مقادیر پیش‌فرض را تغییر ندهید.

### **اجرای تست**
1. سرور را اجرا کنید:
   ```bash
   python server.py
   ```
2. کلاینت را اجرا کنید:
   ```bash
   python client.py
   ```
3. کلاینت داده‌ها را به سرور ارسال خواهد کرد.

### **مشاهده نتایج**
- در خروجی کلاینت:
  - مقدار پنجره ازدحام \( W \) باید به صورت نمایی افزایش پیدا کند (حالت **Slow Start**).
  - پس از رسیدن به آستانه \( ssthresh \)، \( W \) به تدریج افزایش پیدا کند (حالت **Congestion Avoidance**).
- در سرور:
  - هیچ پیامی مربوط به Packet Loss یا **Bandwidth exceeded** نباید ظاهر شود.

---

## **2. تست Packet Loss بالا**

### **تنظیمات**
1. در فایل سرور:
   - مقدار `packet_loss_prob` را به `0.3` تنظیم کنید.
   - مقادیر دیگر را تغییر ندهید.

### **اجرای تست**
1. سرور را اجرا کنید:
   ```bash
   python server.py
   ```
2. کلاینت را اجرا کنید:
   ```bash
   python client.py
   ```

### **مشاهده نتایج**
- در خروجی کلاینت:
  - پیام‌هایی مانند **Packet lost** باید ظاهر شوند.
  - مقدار \( W \) باید مکرراً کاهش یابد (حالت **Fast Recovery**) و به تدریج افزایش پیدا کند.
- در سرور:
  - پیام **Packet lost** به صورت تصادفی ظاهر شود.

---

## **3. تست RTT متغیر**

### **تنظیمات**
1. در فایل سرور:
   - تغییر در متد `simulate_network_conditions`:
     ```python
     time.sleep(random.uniform(0.05, 0.3))  # Random RTT between 50ms and 300ms
     ```
   - مقدار `packet_loss_prob` را روی `0.1` تنظیم کنید.

### **اجرای تست**
1. سرور را اجرا کنید:
   ```bash
   python server.py
   ```
2. کلاینت را اجرا کنید:
   ```bash
   python client.py
   ```

### **مشاهده نتایج**
- در خروجی کلاینت:
  - پیام **High RTT detected** باید ظاهر شود.
  - \( W \) باید کاهش یابد تا RTT پایدار شود و سپس به تدریج افزایش یابد.
- در سرور:
  - RTT متغیر باشد و تأخیر ACKها مشهود شود.

---

## **4. تست محدودیت پهنای باند**

### **تنظیمات**
1. در فایل سرور:
   - مقدار `bandwidth_limit` را به `512 bytes/sec` کاهش دهید.
   - مقادیر دیگر را تغییر ندهید.

### **اجرای تست**
1. سرور را اجرا کنید:
   ```bash
   python server.py
   ```
2. کلاینت را اجرا کنید:
   ```bash
   python client.py
   ```

### **مشاهده نتایج**
- در خروجی سرور:
  - پیام **Bandwidth limit exceeded** باید ظاهر شود.
  - ACKها با تأخیر ارسال شوند.
- در خروجی کلاینت:
  - \( W \) باید کاهش یابد و ارسال داده‌ها با تأخیر انجام شود.

---

## **5. تست شبکه بدون محدودیت**

### **تنظیمات**
1. در فایل سرور:
   - مقدار `bandwidth_limit` را روی `None` یا عدد بسیار بالا (مثلاً `10000 bytes/sec`) تنظیم کنید.
   - مقدار `packet_loss_prob` را روی `0` قرار دهید.

### **اجرای تست**
1. سرور را اجرا کنید:
   ```bash
   python server.py
   ```
2. کلاینت را اجرا کنید:
   ```bash
   python client.py
   ```

### **مشاهده نتایج**
- در خروجی کلاینت:
  - مقدار \( W \) باید به سرعت افزایش یابد و به حداکثر برسد.
- در سرور:
  - هیچ محدودیتی یا تأخیری نباید اعمال شود.

---

## **6. تست ترکیبی**

### **تنظیمات**
1. در فایل سرور:
   - مقدار `packet_loss_prob` را روی `0.2` تنظیم کنید.
   - مقدار `bandwidth_limit` را روی `1024 bytes/sec` قرار دهید.
   - تغییرات RTT را به صورت زیر اعمال کنید:
     ```python
     time.sleep(random.uniform(0.05, 0.5))  # Random RTT between 50ms and 500ms
     ```

### **اجرای تست**
1. سرور را اجرا کنید:
   ```bash
   python server.py
   ```
2. کلاینت را اجرا کنید:
   ```bash
   python client.py
   ```

### **مشاهده نتایج**
- در خروجی کلاینت:
  - مقدار \( W \) باید به صورت پویا کاهش و افزایش یابد.
  - پیام‌های مربوط به **Packet lost**، **High RTT detected**، و کاهش پنجره باید مشاهده شوند.
- در سرور:
  - پیام‌های مربوط به **Packet lost**، **Bandwidth limit exceeded** و تأخیر ACKها مشاهده شود.

---

### **جمع‌بندی و تحلیل**
- **جمع‌آوری داده‌ها:**
  - مقادیر \( W \) و RTT را برای هر سناریو ثبت کنید.
- **تحلیل نمودارها:**
  - نمودارهایی از \( W \) بر حسب زمان و RTT بر حسب زمان رسم کنید.
- **بهینه‌سازی:**
  - در صورت نیاز، مقادیر پیش‌فرض مانند \( C \)، \( ssthresh \)، و آستانه RTT را تغییر دهید.

اگر نیاز به توضیح بیشتر یا کمک برای اجرای تست‌ها دارید، لطفاً اطلاع دهید!